<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‚¬ê±´ í˜„ì¥ - ë™ì•„ë¦¬ ì‚´ì¸ì‚¬ê±´</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="crime-scene-header">
            <h2>ì‚¬ê±´ í˜„ì¥</h2>
        </div>
        <div class="crime-scene-instruction">
            í”¼í•´ì ì£¼ë³€ì˜ ë¬¼ìŒí‘œë¥¼ í´ë¦­í•˜ì—¬ ë‹¨ì„œë¥¼ í™•ì¸í•˜ì„¸ìš”. (ìµœëŒ€ 3ê°œê¹Œì§€ ì—´ëŒ ê°€ëŠ¥)
        </div>

        <div class="crime-scene-content">
            <div class="crime-scene-layout">
                <div class="crime-scene-container">
                    <!-- ì‚¬ê±´ í˜„ì¥ ë°°ê²½ -->
                    <div class="crime-scene-background">
                        <!-- í”¼í•´ì ìœ„ì¹˜ -->
                        <div class="victim-location">
                            <div class="victim-body">ğŸ’€</div>
                        </div>
                        
                        <!-- ë¬¼ìŒí‘œ ëª¨ë‹¬ë“¤ (í”¼í•´ì ì£¼ë³€ì— ë°°ì¹˜) -->
                        <div class="evidence-boxes-around">
                            <div class="evidence-box-item question-mark" data-id="1" style="top: 30%; left: 20%;">â“</div>
                            <div class="evidence-box-item question-mark" data-id="2" style="top: 20%; left: 70%;">â“</div>
                            <div class="evidence-box-item question-mark" data-id="3" style="top: 60%; left: 15%;">â“</div>
                            <div class="evidence-box-item question-mark" data-id="4" style="top: 45%; left: 80%;">â“</div>
                            <div class="evidence-box-item question-mark" data-id="5" style="top: 75%; left: 65%;">â“</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì—´ì–´ë³¸ ì¦ê±°í’ˆ ì„¹ì…˜ -->
            <div class="opened-evidence-section">
                <h3>ë°œê²¬í•œ ë‹¨ì„œ</h3>
                <div class="opened-evidence-list" id="opened-evidence-list">
                    <!-- ì—¬ê¸°ì— ì—´ì–´ë³¸ ì¦ê±°í’ˆë“¤ì´ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
            </div>

            <!-- ëŒì•„ê°€ê¸° ë²„íŠ¼ -->
            <div style="text-align: center; margin-top: 20px;">
                <button id="back-to-questions-from-scene" class="secondary-button">ì§ˆë¬¸ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°</button>
            </div>
        </div>
    </div>

    <!-- ì¦ê±°í’ˆ ìƒì„¸ ëª¨ë‹¬ -->
    <div id="evidence-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="evidence-detail">
                <div class="evidence-emoji" id="evidence-emoji"></div>
                <div class="evidence-name" id="evidence-name"></div>
                <div class="evidence-owner" id="evidence-owner"></div>
                <div class="evidence-description" id="evidence-description"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // ì‚¬ê±´ í˜„ì¥ ê´€ë ¨ ìŠ¤í¬ë¦½íŠ¸
        document.addEventListener('DOMContentLoaded', function() {
            // ì¦ê±°í’ˆ ë°ì´í„°
            const evidenceData = [
                {
                    id: 1,
                    emoji: "ğŸ“±",
                    name: "ìŠ¤ë§ˆíŠ¸í°",
                    owner: "í”¼í•´ì ì†Œìœ ",
                    description: "í™”ë©´ì´ ê¹¨ì ¸ ìˆê³ , ë§ˆì§€ë§‰ìœ¼ë¡œ ì—´ë¦° ì•±ì€ ë…¹ìŒ ì•±ì´ì—ˆë‹¤. ë…¹ìŒ íŒŒì¼ì€ ì‚­ì œëœ ìƒíƒœ."
                },
                {
                    id: 2,
                    emoji: "â˜•",
                    name: "ì»¤í”¼ ì»µ",
                    owner: "ì´í•œê²° ì†Œìœ ",
                    description: "ê³¼í•™ ë™ì•„ë¦¬ íšŒì¥ ì´í•œê²°ì˜ ê°œì¸ í…€ë¸”ëŸ¬. ì»¤í”¼ê°€ ë°˜ì¯¤ ë‚¨ì•„ìˆê³  ì§€ë¬¸ì´ ì„ ëª…í•˜ê²Œ ë‚¨ì•„ìˆë‹¤."
                },
                {
                    id: 3,
                    emoji: "ğŸ“",
                    name: "ë©”ëª¨ì¥",
                    owner: "ê¹€ì†Œì´ ì†Œìœ ",
                    description: "ë¬¸ì˜ˆë¶€ ê¹€ì†Œì´ì˜ ë©”ëª¨ì¥. ì°¢ê²¨ì§„ í”ì ì´ ìˆê³ , 'í‘œì ˆ' ì´ë¼ëŠ” ë‹¨ì–´ê°€ ì—¬ëŸ¬ ë²ˆ ì í˜€ìˆë‹¤."
                },
                {
                    id: 4,
                    emoji: "ğŸ’»",
                    name: "ë…¸íŠ¸ë¶",
                    owner: "ë°•ì£¼í˜„ ì†Œìœ ",
                    description: "ë³´ì•ˆ ë™ì•„ë¦¬ ë°•ì£¼í˜„ì˜ ë…¸íŠ¸ë¶. ì•”í˜¸ê°€ ê±¸ë ¤ìˆê³ , ìµœê·¼ì— í•´í‚¹ ê´€ë ¨ ê²€ìƒ‰ ê¸°ë¡ì´ ìˆë‹¤."
                },
                {
                    id: 5,
                    emoji: "ğŸ¬",
                    name: "ì¹´ë©”ë¼",
                    owner: "ì •ì„¸ìœ¤ ì†Œìœ ",
                    description: "ì˜ìƒ ë™ì•„ë¦¬ ì •ì„¸ìœ¤ì˜ ì¹´ë©”ë¼. ë©”ëª¨ë¦¬ ì¹´ë“œê°€ ì—†ëŠ” ìƒíƒœì´ë©°, ì§€ë¬¸ì´ ì—¬ëŸ¬ ê°œ ë°œê²¬ë˜ì—ˆë‹¤."
                }
            ];

            // ì—´ëŒí•œ ì¦ê±°í’ˆ IDë¥¼ ì €ì¥í•˜ëŠ” ë°°ì—´
            let openedEvidenceIds = [];
            
            // ë¬¼ìŒí‘œ í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬
            const questionMarks = document.querySelectorAll('.evidence-box-item.question-mark');
            questionMarks.forEach(mark => {
                mark.addEventListener('click', function() {
                    const evidenceId = parseInt(this.getAttribute('data-id'));
                    
                    // ì´ë¯¸ ì—´ëŒí•œ ì¦ê±°í’ˆì¸ì§€ í™•ì¸
                    if (openedEvidenceIds.includes(evidenceId)) {
                        // ì´ë¯¸ ì—´ëŒí•œ ì¦ê±°í’ˆì´ë©´ ëª¨ë‹¬ë¡œ ìƒì„¸ ì •ë³´ í‘œì‹œ
                        showEvidenceDetail(evidenceId);
                        return;
                    }
                    
                    // ìµœëŒ€ 3ê°œê¹Œì§€ë§Œ ì—´ëŒ ê°€ëŠ¥
                    if (openedEvidenceIds.length >= 3) {
                        alert('ë” ì´ìƒ ë‹¨ì„œë¥¼ ì—´ëŒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. (ìµœëŒ€ 3ê°œ)');
                        return;
                    }
                    
                    // ì¦ê±°í’ˆ ì—´ëŒ ì²˜ë¦¬
                    openEvidence(evidenceId);
                });
            });
            
            // ì¦ê±°í’ˆ ì—´ëŒ í•¨ìˆ˜
            function openEvidence(evidenceId) {
                // í•´ë‹¹ IDì˜ ì¦ê±°í’ˆ ì°¾ê¸°
                const evidence = evidenceData.find(item => item.id === evidenceId);
                if (!evidence) return;
                
                // ì—´ëŒí•œ ì¦ê±°í’ˆ ID ë°°ì—´ì— ì¶”ê°€
                openedEvidenceIds.push(evidenceId);
                
                // ë¬¼ìŒí‘œ ì•„ì´ì½˜ ë³€ê²½ (ì—´ëŒ í‘œì‹œ)
                const questionMark = document.querySelector(`.evidence-box-item[data-id="${evidenceId}"]`);
                questionMark.textContent = evidence.emoji;
                questionMark.classList.remove('question-mark');
                questionMark.classList.add('opened');
                
                // ì—´ëŒí•œ ì¦ê±°í’ˆ ëª©ë¡ì— ì¶”ê°€
                addToOpenedEvidenceList(evidence);
                
                // ì¦ê±°í’ˆ ìƒì„¸ ì •ë³´ ëª¨ë‹¬ í‘œì‹œ
                showEvidenceDetail(evidenceId);
            }
            
            // ì—´ëŒí•œ ì¦ê±°í’ˆ ëª©ë¡ì— ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜
            function addToOpenedEvidenceList(evidence) {
                const openedList = document.getElementById('opened-evidence-list');
                
                const evidenceItem = document.createElement('div');
                evidenceItem.className = 'opened-evidence-item';
                evidenceItem.innerHTML = `
                    <div class="evidence-emoji">${evidence.emoji}</div>
                    <div class="evidence-name">${evidence.name}</div>
                    <div class="evidence-owner">${evidence.owner}</div>
                    <div class="evidence-description">${evidence.description}</div>
                `;
                
                // í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´ ëª¨ë‹¬ í‘œì‹œ
                evidenceItem.addEventListener('click', () => {
                    showEvidenceDetail(evidence.id);
                });
                
                openedList.appendChild(evidenceItem);
            }
            
            // ì¦ê±°í’ˆ ìƒì„¸ ì •ë³´ ëª¨ë‹¬ í‘œì‹œ í•¨ìˆ˜
            function showEvidenceDetail(evidenceId) {
                const evidence = evidenceData.find(item => item.id === evidenceId);
                if (!evidence) return;
                
                // ëª¨ë‹¬ ë‚´ìš© ì„¤ì •
                document.getElementById('evidence-emoji').textContent = evidence.emoji;
                document.getElementById('evidence-name').textContent = evidence.name;
                document.getElementById('evidence-owner').textContent = evidence.owner;
                document.getElementById('evidence-description').textContent = evidence.description;
                
                // ëª¨ë‹¬ í‘œì‹œ
                document.getElementById('evidence-modal').style.display = 'block';
            }
            
            // ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸
            document.querySelector('#evidence-modal .close-modal').addEventListener('click', function() {
                document.getElementById('evidence-modal').style.display = 'none';
            });
            
            // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
            window.addEventListener('click', function(event) {
                const modal = document.getElementById('evidence-modal');
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
            
            // ì§ˆë¬¸ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸
            document.getElementById('back-to-questions-from-scene').addEventListener('click', function() {
                // ë©”ì¸ ìŠ¤í¬ë¦½íŠ¸ì˜ í•¨ìˆ˜ í˜¸ì¶œ (script.jsì— ì •ì˜ë˜ì–´ ìˆìŒ)
                showQuestionSelectScreen();
            });
        });
    </script>
</body>
</html>