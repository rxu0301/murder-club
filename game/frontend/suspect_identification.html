<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë²”ì¸ ì§€ëª© - ë™ì•„ë¦¬ ì‚´ì¸ì‚¬ê±´</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* ë²”ì¸ ì§€ëª© í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
        .suspect-identification-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        /* ì²« ë²ˆì§¸ ì‚¬ì§„ í˜•ì‹ì˜ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .suspect-cards-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 2rem auto;
            max-width: 800px;
        }

        .suspect-card {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .suspect-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
        }

        .suspect-emoji {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .suspect-name {
            font-weight: 700;
            font-size: 1.2rem;
            color: #3a0ca3;
            margin-bottom: 0.5rem;
        }

        .suspect-role {
            color: #6c757d;
            margin-bottom: 1rem;
        }

        .suspect-trait {
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .suspect-trait-title {
            font-weight: 500;
        }

        /* ë‘ ë²ˆì§¸ ì‚¬ì§„ í˜•ì‹ì˜ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .suspect-modal-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 50px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .suspect-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.8rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .suspect-icon:hover, .suspect-icon.active {
            transform: scale(1.1);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .suspect-icon.active {
            border: 3px solid #3a0ca3;
        }

        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .identification-modal {
            display: none;
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            overflow-y: auto;
        }

        .identification-modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            position: relative;
            animation: modalAppear 0.3s ease;
        }

        .close-identification-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 1.5rem;
            font-weight: bold;
            color: #6c757d;
            cursor: pointer;
        }

        .identification-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }

        .confirm-identification {
            background-color: #d00000;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 12px 25px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .confirm-identification:hover {
            background-color: #b00000;
            transform: translateY(-2px);
        }

        .cancel-identification {
            background-color: #6c757d;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 12px 25px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .cancel-identification:hover {
            background-color: #5a6268;
            transform: translateY(-2px);
        }

        /* ë°˜ì‘í˜• ìŠ¤íƒ€ì¼ */
        @media (max-width: 768px) {
            .suspect-cards-grid {
                grid-template-columns: 1fr;
            }
            
            .suspect-modal-icons {
                flex-wrap: wrap;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="suspect-identification-header">
            <h2>ë²”ì¸ ì§€ëª©</h2>
            <p class="instruction">ìˆ˜ì§‘í•œ ë‹¨ì„œì™€ ëŒ€í™”ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë²”ì¸ì„ ì§€ëª©í•˜ì„¸ìš”.</p>
        </div>

        <!-- ì²« ë²ˆì§¸ ì‚¬ì§„ í˜•ì‹ì˜ ì¹´ë“œ ë ˆì´ì•„ì›ƒ -->
        <div class="suspect-cards-grid">
            <!-- ì´í•œê²° -->
            <div class="suspect-card" data-suspect="hangyeol">
                <div class="suspect-emoji">ğŸ§ª</div>
                <div class="suspect-name">ì´í•œê²°</div>
                <div class="suspect-role">ê³¼í•™ ë™ì•„ë¦¬ íšŒì¥</div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">íŠ¹ê¸°:</span> ë°œí‘œ, ì‹¤í—˜ ë¦¬ë”©
                </div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">ì¢‹ì•„í•˜ëŠ” ê²ƒ:</span> ë¬¼ë¦¬ ì‹¤í—˜, ì •ë¦¬ì •ëˆ
                </div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">í”¼í•´ìì™€ì˜ ê´€ê³„:</span> ë¦¬ë”ë¡œì„œ ìœ¤ì§€ìš°ë¥¼ ì±™ê²¨ì™”ì§€ë§Œ, ìµœê·¼ ì‹¤í—˜ì‹¤ ì •ë¦¬ ë¬¸ì œë¡œ ë‹¤íˆ° ì  ìˆìŒ
                </div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">ì„±ê²©:</span> ì±…ì„ê° ìˆê³  ëƒ‰ì² í•¨. ê²©ì‹ì„ ì°¨ë¦¬ëŠ” ë…¼ë¦¬ì ì¸ ë§íˆ¬ ì‚¬ìš©.
                </div>
            </div>

            <!-- ê¹€ì†Œì´ -->
            <div class="suspect-card" data-suspect="soi">
                <div class="suspect-emoji">ğŸ“</div>
                <div class="suspect-name">ê¹€ì†Œì´</div>
                <div class="suspect-role">ë¬¸ì˜ˆë¶€</div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">íŠ¹ê¸°:</span> ê°ì„± ê¸€ì“°ê¸°, ì‹œ ì°½ì‘
                </div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">ì¢‹ì•„í•˜ëŠ” ê²ƒ:</span> ì¹´í˜ íƒë°©, ë ˆíŠ¸ë¡œ êµ¿ì¦ˆ ìˆ˜ì§‘
                </div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">í”¼í•´ìì™€ì˜ ê´€ê³„:</span> í‰ì†Œì—” ê°€ê¹Œì› ì§€ë§Œ, ìµœê·¼ ì‹œ í‘œì ˆ ë¬¸ì œë¡œ ê°ˆë“±
                </div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">ì„±ê²©:</span> ê°ì •ì´ í’ë¶€í•˜ê³  ìˆ˜ë‹¤ìŠ¤ëŸ¬ì›€. ë§ì´ ë§ê³  ì¢…ì¢… ê°ì •ì´ í­ë°œí•¨.
                </div>
            </div>

            <!-- ë°•ì£¼í˜„ -->
            <div class="suspect-card" data-suspect="juhyun">
                <div class="suspect-emoji">ğŸ’»</div>
                <div class="suspect-name">ë°•ì£¼í˜„</div>
                <div class="suspect-role">ë³´ì•ˆÂ·ì½”ë”© ë™ì•„ë¦¬</div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">íŠ¹ê¸°:</span> ì•Œê³ ë¦¬ì¦˜, CTF, ë¦¬ëˆ…ìŠ¤ í•´í‚¹
                </div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">ì¢‹ì•„í•˜ëŠ” ê²ƒ:</span> ë‹¤í¬ ì›¹ ì½ê¸°, ë…ì„œ
                </div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">í”¼í•´ìì™€ì˜ ê´€ê³„:</span> ëŒ€í™”ëŠ” ì ì—ˆìœ¼ë‚˜, ìœ¤ì§€ìš°ê°€ ì£¼í˜„ì˜ ì½”ë“œë¥¼ ê³µê°œ ë¹„íŒí•œ ì  ìˆìŒ
                </div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">ì„±ê²©:</span> ë§ ìˆ˜ ì ê³  í•µì‹¬ë§Œ ë§í•¨. ë…¼ë¦¬ ì¤‘ì‹¬ í‘œí˜„, ê°ì • í‘œí˜„ì— ë¬´ì‹¬í•¨.
                </div>
            </div>

            <!-- ì •ì„¸ìœ¤ -->
            <div class="suspect-card" data-suspect="seyun">
                <div class="suspect-emoji">ğŸ¬</div>
                <div class="suspect-name">ì •ì„¸ìœ¤</div>
                <div class="suspect-role">ì˜ìƒì œì‘ ë™ì•„ë¦¬</div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">íŠ¹ê¸°:</span> ì˜ìƒ í¸ì§‘, ë¸Œì´ë¡œê·¸ ì œì‘
                </div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">ì¢‹ì•„í•˜ëŠ” ê²ƒ:</span> ë°ˆ ìˆ˜ì§‘, ë“œë¦½ì¹˜ê¸°, í‹°ì…”ì¸  ë””ìì¸
                </div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">í”¼í•´ìì™€ì˜ ê´€ê³„:</span> ìœ¤ì§€ìš°ê°€ ëª°ë˜ ì´¬ì˜ ì˜ìƒì„ ìœ ì¶œí•´ ê°ˆë“± ë°œìƒ
                </div>
                
                <div class="suspect-trait">
                    <span class="suspect-trait-title">ì„±ê²©:</span> ìœ ë¨¸ëŸ¬ìŠ¤í•˜ê³  ë¹„ê¼¬ëŠ” ë§íˆ¬. ì¢…ì¢… ë†ë‹´ì„ ì„ìŒ. ì–´ë”˜ê°€ ë¬´ì±…ì„í•œ ëŠë‚Œë„ ìˆìŒ.
                </div>
            </div>
        </div>

        <!-- ëŒì•„ê°€ê¸° ë²„íŠ¼ -->
        <div style="text-align: center; margin-top: 20px;">
            <button id="back-to-questions-from-identification" class="secondary-button">ì§ˆë¬¸ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°</button>
        </div>
    </div>

    <!-- ë‘ ë²ˆì§¸ ì‚¬ì§„ í˜•ì‹ì˜ ë²”ì¸ ì§€ëª© ëª¨ë‹¬ -->
    <div id="identification-modal" class="identification-modal">
        <div class="identification-modal-content">
            <span class="close-identification-modal">&times;</span>
            
            <h3 style="text-align: center; margin-bottom: 20px;">ë²”ì¸ ì§€ëª©</h3>
            
            <!-- ë‘ ë²ˆì§¸ ì‚¬ì§„ í˜•ì‹ì˜ ì•„ì´ì½˜ ë ˆì´ì•„ì›ƒ -->
            <div class="suspect-modal-icons">
                <div class="suspect-icon" data-suspect="hangyeol">ğŸ§ª</div>
                <div class="suspect-icon" data-suspect="soi">ğŸ“</div>
                <div class="suspect-icon" data-suspect="juhyun">ğŸ’»</div>
                <div class="suspect-icon" data-suspect="seyun">ğŸ¬</div>
            </div>
            
            <div id="selected-suspect-info" style="text-align: center;">
                <p>ë²”ì¸ìœ¼ë¡œ ì§€ëª©í•  ìš©ì˜ìë¥¼ ì„ íƒí•˜ì„¸ìš”.</p>
            </div>
            
            <div class="identification-buttons">
                <button class="confirm-identification" id="confirm-identification" disabled>ë²”ì¸ ì§€ëª©í•˜ê¸°</button>
                <button class="cancel-identification" id="cancel-identification">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ë²”ì¸ ì§€ëª© ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸
            const suspectCards = document.querySelectorAll('.suspect-card');
            suspectCards.forEach(card => {
                card.addEventListener('click', function() {
                    const suspectId = this.getAttribute('data-suspect');
                    showIdentificationModal(suspectId);
                });
            });
            
            // ëª¨ë‹¬ ë‚´ ì•„ì´ì½˜ í´ë¦­ ì´ë²¤íŠ¸
            const suspectIcons = document.querySelectorAll('.suspect-icon');
            suspectIcons.forEach(icon => {
                icon.addEventListener('click', function() {
                    // ëª¨ë“  ì•„ì´ì½˜ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
                    suspectIcons.forEach(i => i.classList.remove('active'));
                    
                    // í´ë¦­í•œ ì•„ì´ì½˜ì— active í´ë˜ìŠ¤ ì¶”ê°€
                    this.classList.add('active');
                    
                    // ì„ íƒí•œ ìš©ì˜ì ì •ë³´ í‘œì‹œ
                    const suspectId = this.getAttribute('data-suspect');
                    updateSelectedSuspectInfo(suspectId);
                    
                    // ë²”ì¸ ì§€ëª© ë²„íŠ¼ í™œì„±í™”
                    document.getElementById('confirm-identification').disabled = false;
                });
            });
            
            // ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸
            document.querySelector('.close-identification-modal').addEventListener('click', function() {
                document.getElementById('identification-modal').style.display = 'none';
            });
            
            // ì·¨ì†Œ ë²„íŠ¼ ì´ë²¤íŠ¸
            document.getElementById('cancel-identification').addEventListener('click', function() {
                document.getElementById('identification-modal').style.display = 'none';
            });
            
            // ë²”ì¸ ì§€ëª© í™•ì¸ ë²„íŠ¼ ì´ë²¤íŠ¸
            document.getElementById('confirm-identification').addEventListener('click', function() {
                const selectedIcon = document.querySelector('.suspect-icon.active');
                if (selectedIcon) {
                    const suspectId = selectedIcon.getAttribute('data-suspect');
                    accuseSuspect(suspectId);
                }
            });
            
            // ì§ˆë¬¸ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸
            document.getElementById('back-to-questions-from-identification').addEventListener('click', function() {
                // ë©”ì¸ ìŠ¤í¬ë¦½íŠ¸ì˜ í•¨ìˆ˜ í˜¸ì¶œ (script.jsì— ì •ì˜ë˜ì–´ ìˆìŒ)
                showQuestionSelectScreen();
            });
            
            // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
            window.addEventListener('click', function(event) {
                const modal = document.getElementById('identification-modal');
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
            
            // ë²”ì¸ ì§€ëª© ëª¨ë‹¬ í‘œì‹œ í•¨ìˆ˜
            function showIdentificationModal(suspectId) {
                // í•´ë‹¹ ìš©ì˜ì ì•„ì´ì½˜ í™œì„±í™”
                const suspectIcons = document.querySelectorAll('.suspect-icon');
                suspectIcons.forEach(icon => {
                    icon.classList.remove('active');
                    if (icon.getAttribute('data-suspect') === suspectId) {
                        icon.classList.add('active');
                    }
                });
                
                // ì„ íƒí•œ ìš©ì˜ì ì •ë³´ í‘œì‹œ
                updateSelectedSuspectInfo(suspectId);
                
                // ë²”ì¸ ì§€ëª© ë²„íŠ¼ í™œì„±í™”
                document.getElementById('confirm-identification').disabled = false;
                
                // ëª¨ë‹¬ í‘œì‹œ
                document.getElementById('identification-modal').style.display = 'block';
            }
            
            // ì„ íƒí•œ ìš©ì˜ì ì •ë³´ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
            function updateSelectedSuspectInfo(suspectId) {
                const suspectInfo = {
                    hangyeol: {
                        name: 'ì´í•œê²°',
                        role: 'ê³¼í•™ ë™ì•„ë¦¬ íšŒì¥'
                    },
                    soi: {
                        name: 'ê¹€ì†Œì´',
                        role: 'ë¬¸ì˜ˆë¶€'
                    },
                    juhyun: {
                        name: 'ë°•ì£¼í˜„',
                        role: 'ë³´ì•ˆÂ·ì½”ë”© ë™ì•„ë¦¬'
                    },
                    seyun: {
                        name: 'ì •ì„¸ìœ¤',
                        role: 'ì˜ìƒì œì‘ ë™ì•„ë¦¬'
                    }
                };
                
                const suspect = suspectInfo[suspectId];
                if (suspect) {
                    document.getElementById('selected-suspect-info').innerHTML = `
                        <p><strong>${suspect.name}</strong>ë‹˜ì„ ë²”ì¸ìœ¼ë¡œ ì§€ëª©í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                        <p style="color: #6c757d; font-size: 0.9rem;">${suspect.role}</p>
                        <p style="color: #d00000; margin-top: 10px;">â€» ë²”ì¸ ì§€ëª©ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
                    `;
                }
            }
            
            // ë²”ì¸ ì§€ëª© í•¨ìˆ˜
            function accuseSuspect(suspectId) {
                // ìºë¦­í„° ì´ë¦„ ë§¤í•‘
                const characterNames = {
                    hangyeol: 'ì´í•œê²°',
                    soi: 'ê¹€ì†Œì´',
                    juhyun: 'ë°•ì£¼í˜„',
                    seyun: 'ì •ì„¸ìœ¤'
                };
                
                // ë©”ì¸ ìŠ¤í¬ë¦½íŠ¸ì˜ í•¨ìˆ˜ í˜¸ì¶œ (script.jsì— ì •ì˜ë˜ì–´ ìˆìŒ)
                if (typeof accuseCharacter === 'function') {
                    // script.jsì— ì •ì˜ëœ í•¨ìˆ˜ í˜¸ì¶œ
                    const character = { id: suspectId, name: characterNames[suspectId] };
                    accuseCharacter(character);
                } else {
                    // ì§ì ‘ êµ¬í˜„
                    const character = { id: suspectId };
                    console.log(`ë²”ì¸ ì§€ëª©: ${suspectId}`);
                    
                    // ë¡œë”© ì˜¤ë²„ë ˆì´ ìƒì„± (ì—†ëŠ” ê²½ìš°)
                    let loadingOverlay = document.getElementById('loading-overlay');
                    if (!loadingOverlay) {
                        loadingOverlay = document.createElement('div');
                        loadingOverlay.id = 'loading-overlay';
                        loadingOverlay.className = 'loading-overlay';
                        loadingOverlay.style.position = 'fixed';
                        loadingOverlay.style.top = '0';
                        loadingOverlay.style.left = '0';
                        loadingOverlay.style.width = '100%';
                        loadingOverlay.style.height = '100%';
                        loadingOverlay.style.backgroundColor = 'rgba(255, 255, 255, 0.8)';
                        loadingOverlay.style.display = 'flex';
                        loadingOverlay.style.flexDirection = 'column';
                        loadingOverlay.style.justifyContent = 'center';
                        loadingOverlay.style.alignItems = 'center';
                        loadingOverlay.style.zIndex = '1000';
                        
                        const spinner = document.createElement('div');
                        spinner.className = 'loading-spinner';
                        spinner.style.width = '50px';
                        spinner.style.height = '50px';
                        spinner.style.border = '5px solid #dee2e6';
                        spinner.style.borderTop = '5px solid #3a0ca3';
                        spinner.style.borderRadius = '50%';
                        spinner.style.animation = 'spin 1s linear infinite';
                        spinner.style.marginBottom = '1rem';
                        
                        const loadingText = document.createElement('div');
                        loadingText.textContent = 'ë¡œë”© ì¤‘...';
                        
                        loadingOverlay.appendChild(spinner);
                        loadingOverlay.appendChild(loadingText);
                        document.body.appendChild(loadingOverlay);
                        
                        // ìŠ¤í”¼ë„ˆ ì• ë‹ˆë©”ì´ì…˜ ìŠ¤íƒ€ì¼ ì¶”ê°€
                        const style = document.createElement('style');
                        style.textContent = `
                            @keyframes spin {
                                0% { transform: rotate(0deg); }
                                100% { transform: rotate(360deg); }
                            }
                        `;
                        document.head.appendChild(style);
                    }
                    
                    // ë¡œë”© í‘œì‹œ
                    loadingOverlay.style.display = 'flex';
                    
                    // ê°€ìƒì˜ ê²°ê³¼ ìƒì„± (API ì˜¤ë¥˜ í•´ê²°)
                    setTimeout(() => {
                        // ëœë¤ìœ¼ë¡œ ì •ë‹µ ì—¬ë¶€ ê²°ì • (ë°ëª¨ìš©)
                        const isCorrect = Math.random() > 0.5;
                        const culpritId = isCorrect ? suspectId : ['hangyeol', 'soi', 'juhyun', 'seyun'].find(id => id !== suspectId);
                        
                        const result = {
                            correct: isCorrect,
                            culprit_id: culpritId
                        };
                        
                        // ê²°ê³¼ í™”ë©´ìœ¼ë¡œ ì´ë™
                        showResultScreen(character, result);
                        
                        // ë¡œë”© ìˆ¨ê¸°ê¸°
                        loadingOverlay.style.display = 'none';
                    }, 1000);
                    
                    // ëª¨ë‹¬ ë‹«ê¸°
                    document.getElementById('identification-modal').style.display = 'none';
                }
            }
            
            // ê²°ê³¼ í™”ë©´ í‘œì‹œ í•¨ìˆ˜
            function showResultScreen(accusedCharacter, result) {
                // ìºë¦­í„° ì´ëª¨ì§€ ë§¤í•‘
                const characterEmojis = {
                    hangyeol: 'ğŸ§ª',
                    soi: 'ğŸ“',
                    juhyun: 'ğŸ’»',
                    seyun: 'ğŸ¬'
                };
                
                // ìºë¦­í„° ì´ë¦„ ë§¤í•‘
                const characterNames = {
                    hangyeol: 'ì´í•œê²°',
                    soi: 'ê¹€ì†Œì´',
                    juhyun: 'ë°•ì£¼í˜„',
                    seyun: 'ì •ì„¸ìœ¤'
                };
                
                // ê¸°ì¡´ ì»¨í…Œì´ë„ˆ ë‚´ìš© ì €ì¥
                const originalContent = document.querySelector('.container').innerHTML;
                
                // ê²°ê³¼ í™”ë©´ HTML ìƒì„±
                const resultHTML = `
                    <div class="result-content">
                        <h2 class="${result.correct ? 'success' : 'error'}" id="result-title">
                            ${result.correct ? 'ì •ë‹µì…ë‹ˆë‹¤!' : 'ì˜¤ë‹µì…ë‹ˆë‹¤!'}
                        </h2>
                        <div class="result-image" id="result-image">
                            <div class="character-emoji">${characterEmojis[result.culprit_id] || 'ğŸ‘¤'}</div>
                        </div>
                        <div class="result-text" id="result-text">
                            ${result.correct ? 
                                `ì¶•í•˜í•©ë‹ˆë‹¤! ${characterNames[accusedCharacter.id]}ì´(ê°€) AI ë²”ì¸ì´ì—ˆìŠµë‹ˆë‹¤.` : 
                                `ì•„ì‰½ìŠµë‹ˆë‹¤. ì‹¤ì œ AI ë²”ì¸ì€ ${characterNames[result.culprit_id]}ì´ì—ˆìŠµë‹ˆë‹¤.`}
                        </div>
                        <div class="result-details">
                            <p>ë‹¹ì‹ ì˜ ì„ íƒ: <span id="player-guess">${characterNames[accusedCharacter.id]}</span></p>
                            <p>ì‹¤ì œ ë²”ì¸: <span id="actual-culprit">${characterNames[result.culprit_id]}</span></p>
                        </div>
                        <div style="display: flex; justify-content: center; gap: 15px; margin-top: 20px;">
                            <button class="primary-button" id="restart-button">ë‹¤ì‹œ í•˜ê¸°</button>
                            <button class="secondary-button" id="back-to-identification">ëŒì•„ê°€ê¸°</button>
                        </div>
                    </div>
                `;
                
                // ì»¨í…Œì´ë„ˆ ë‚´ìš© êµì²´
                document.querySelector('.container').innerHTML = resultHTML;
                
                // ë‹¤ì‹œ í•˜ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸
                document.getElementById('restart-button').addEventListener('click', () => {
                    location.reload(); // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
                });
                
                // ëŒì•„ê°€ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸
                document.getElementById('back-to-identification').addEventListener('click', () => {
                    // ì›ë˜ ë‚´ìš©ìœ¼ë¡œ ë³µì›
                    document.querySelector('.container').innerHTML = originalContent;
                    
                    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë‹¤ì‹œ ì„¤ì •
                    setupEventListeners();
                });
            }
            
            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì • í•¨ìˆ˜ (ëŒì•„ê°€ê¸° ë²„íŠ¼ í´ë¦­ í›„ ì¬ì„¤ì •ìš©)
            function setupEventListeners() {
                // ë²”ì¸ ì§€ëª© ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸
                const suspectCards = document.querySelectorAll('.suspect-card');
                suspectCards.forEach(card => {
                    card.addEventListener('click', function() {
                        const suspectId = this.getAttribute('data-suspect');
                        showIdentificationModal(suspectId);
                    });
                });
                
                // ì§ˆë¬¸ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸
                const backButton = document.getElementById('back-to-questions-from-identification');
                if (backButton) {
                    backButton.addEventListener('click', function() {
                        // ë©”ì¸ ìŠ¤í¬ë¦½íŠ¸ì˜ í•¨ìˆ˜ í˜¸ì¶œ (script.jsì— ì •ì˜ë˜ì–´ ìˆìŒ)
                        if (typeof showQuestionSelectScreen === 'function') {
                            showQuestionSelectScreen();
                        } else {
                            alert('ì§ˆë¬¸ í˜ì´ì§€ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.');
                            history.back();
                        }
                    });
                }
            }
        });
    </script>
</body>
</html>